<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Admin Panel Premium</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root {
    --dark: #1e272e;
    --primary: #fbc531;
    --card: #ffffff;
    --bg: #f1f2f6;
}

body {
    margin: 0;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: var(--bg);
}

.sidebar {
    width: 240px;
    height: 100vh;
    background: linear-gradient(180deg, #1e272e, #2f3542);
    color: #fff;
    position: fixed;
    padding: 20px;
    box-shadow: 4px 0 20px rgba(0,0,0,.2);
}

.sidebar h2 {
    color: var(--primary);
    text-align: center;
    margin-bottom: 25px;
    letter-spacing: 2px;
}

.sidebar ul {
    list-style: none;
    padding: 0;
}

.sidebar ul li {
    padding: 12px 15px;
    border-radius: 8px;
    cursor: pointer;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: .3s;
}

.sidebar ul li:hover {
    background: rgba(255,255,255,.1);
    transform: translateX(5px);
}

.content {
    margin-left: 270px;
    padding: 25px;
}

.card {
    background: var(--card);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
    animation: fade .4s ease;
}

@keyframes fade {
    from {opacity:0; transform: translateY(10px);}
    to {opacity:1; transform: translateY(0);}
}

.hidden { display: none; }

table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    border-radius: 10px;
    overflow: hidden;
}

th, td {
    padding: 12px;
    border-bottom: 1px solid #eee;
    text-align: center;
}

th {
    background: var(--dark);
    color: #fff;
    font-weight: 600;
}

tr:hover td {
    background: #fafafa;
}

select, input {
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
}

.badge-success { color:#27ae60; font-weight:700; }
.badge-pending { color:#f39c12; font-weight:700; }
.badge-failed  { color:#e74c3c; font-weight:700; }

.search-box {
    margin-bottom: 15px;
}

.search-box input {
    padding: 10px;
    width: 240px;
    border-radius: 8px;
    border:1px solid #ddd;
}

.search-box button {
    padding: 10px 18px;
    border-radius: 8px;
    border: none;
    background: var(--dark);
    color: #fff;
    cursor: pointer;
}

.withdraw-id {
    font-weight: bold;
    color: #3742fa;
}

/* Toggle Switch Jackpot */
.switch {
  position: relative;
  display: inline-block;
  width: 52px;
  height: 28px;
}
.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}
.slider {
  position: absolute;
  cursor: pointer;
  inset: 0;
  background-color: #ccc;
  transition: .3s;
  border-radius: 50px;
}
.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .3s;
  border-radius: 50%;
}
input:checked + .slider {
  background-color: #27ae60;
}
input:checked + .slider:before {
  transform: translateX(24px);
}
.jackpot-status {
  font-weight: bold;
  margin-left: 8px;
}
.jackpot-on { color: #27ae60; }
.jackpot-off { color: #e74c3c; }
</style>
</head>

<body>

<div class="sidebar">
    <h2>MASTER</h2>
    <ul>
        <li onclick="showPage('dashboard')"><i class="fa-solid fa-house"></i> Dashboard</li>
        <li onclick="showPage('users')"><i class="fa-solid fa-users"></i> Users</li>
        <li onclick="showPage('withdraw')"><i class="fa-solid fa-money-bill-transfer"></i> Withdraw</li>
        <li><i class="fa-solid fa-wallet"></i> Deposit</li>
        <li><i class="fa-solid fa-chart-line"></i> Report</li>
        <li><i class="fa-solid fa-trophy"></i> Win / Lose</li>
        <li><i class="fa-solid fa-gear"></i> Web Setting</li>
    </ul>
</div>

<div class="content">

    <div id="dashboard" class="card">
        <h2>Dashboard</h2>
        <p>Selamat datang di Admin Panel Premium</p>
    </div>

    <div id="users" class="hidden card">
        <h2>User Setting</h2>
        <div class="search-box">
            <input type="text" id="usernameInput" placeholder="Masukkan Username">
            <button onclick="searchUser()">SEARCH</button>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Provider</th>
                    <th>Taruhan</th>
                    <th>Status</th>
                    <th>Deposit</th>
                    <th>Jackpot</th>
                </tr>
            </thead>
            <tbody id="userTable"></tbody>
        </table>
    </div>

    <div id="withdraw" class="hidden card">
        <h2>Withdraw List</h2>
        <table>
            <thead>
                <tr>
                    <th>Tanggal & Jam</th>
                    <th>Withdraw ID</th>
                    <th>User ID</th>
                    <th>Nominal</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="withdrawTable"></tbody>
        </table>
    </div>

</div>

<script>
function showPage(page) {
    ["dashboard","users","withdraw"].forEach(id=>{
        document.getElementById(id).classList.add("hidden");
    });
    document.getElementById(page).classList.remove("hidden");
    if(page==="withdraw") startWithdrawTimer();
}

function searchUser() {
    const username = document.getElementById("usernameInput").value.trim();
    if(!username){ alert("Masukkan username"); return; }

    document.getElementById("userTable").innerHTML = `
    <tr>
        <td>${username}</td>
        <td>
            <select>
                <option>PRAGMATIC</option>
                <option>PG SOFT</option>
                <option>HABANERO</option>
            </select>
        </td>
        <td>
            <select>
                <option>400</option>
                <option>800</option>
                <option>1000</option>
            </select>
        </td>
        <td>
            <span class="badge-success">MENANG</span>
        </td>
        <td>
            <input type="number" placeholder="Deposit">
        </td>
        <td>
            <label class="switch">
              <input type="checkbox" onchange="toggleJackpot(this)">
              <span class="slider"></span>
            </label>
            <span class="jackpot-status jackpot-off">OFF</span>
        </td>
    </tr>`;
}

function toggleJackpot(el) {
    const status = el.checked ? "ON" : "OFF";
    const statusEl = el.closest("td").querySelector(".jackpot-status");
    statusEl.textContent = status;
    statusEl.className = "jackpot-status " + (el.checked ? "jackpot-on" : "jackpot-off");
}

/* Withdraw */
let withdrawTimer = null;
let currentWithdrawId = generateWithdrawId();

const withdrawUsers = [
    {name: "monye96", amount: 5000000},
    {name: "jakarta", amount: 2000000},
    {name: "cuki87", amount: 500000},
    {name: "dewos6", amount: 1120000}
];

function generateWithdrawId() {
    return "WD-" + Math.random().toString(36).substring(2, 8).toUpperCase();
}

setInterval(()=>{
    currentWithdrawId = generateWithdrawId();
}, 300000); // 5 menit

function getNow() {
    const d = new Date();
    const pad = n => n.toString().padStart(2,"0");
    return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
}

function startWithdrawTimer() {
    if(withdrawTimer) return;
    withdrawTimer = setInterval(()=>{
        let html = "";
        withdrawUsers.forEach(user=>{
            html += `
            <tr>
                <td>${getNow()}</td>
                <td class="withdraw-id">${currentWithdrawId}</td>
                <td>${user.name}</td>
                <td>Rp ${user.amount.toLocaleString()}</td>
                <td><span class="badge-success">SUKSES</span></td>
            </tr>`;
        });
        document.getElementById("withdrawTable").innerHTML = html;
    },1000);
}
</script>

</body>
</html>
